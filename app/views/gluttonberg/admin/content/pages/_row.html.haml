%tr{:id => drag_tree_row_id(page), :class => drag_tree_row_class(page) + "#{row % 2 == 0? " even" : ""}"}
  %td
    %span{:class => "#{drag_tree_drag_point_class} #{page.home ? "home" : "page"}" , :rel => drag_tree_row_id(page)}
    %span.pagetitle
      = page.home ? "#{page.name} (Home page)" : page.name
    %span.controls
      - if Gluttonberg.localized? &&  page.localizations.length > 1
        - default_localization = Gluttonberg::PageLocalization.find(:first , :conditions => { :page_id => page.id , :locale_id => Gluttonberg::Locale.first_default.id } )
        = link_to("Edit", edit_admin_page_page_localization_path( :page_id => page.id, :id => default_localization.id))
      - else        
        - default_localization = Gluttonberg::PageLocalization.find(:first , :conditions => { :page_id => page.id , :locale_id => Gluttonberg::Locale.first_default.id } )
        = link_to("Edit", edit_admin_page_page_localization_path( :page_id => page.id, :id => default_localization.id))
        = link_to("Preview", default_localization.public_path  , { :target => "_blank" }) 

      - if can? :destroy , Gluttonberg::Page
        = link_to 'Delete',  delete_admin_page_path(page)
  %td.author
    = page.user.full_name
  %td.date
    - unless page.published_at.blank?
      = page.published_at.strftime("%d/%m/%Y at %H:%M")
  %td.published_state{:class=>"#{page.publishing_status.downcase}"}
    = page.publishing_status